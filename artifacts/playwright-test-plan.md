# Playwright Test Plan ## Suite 1: Navigation & Page Structure ### Scenario 1.1: Navbar Sticky Behavior and Active State **Goal:** Verify the navbar remains sticky during scroll and highlights the active page link. **Preconditions:** - Navigate to home page (`./index.html`) - Viewport set to desktop size (1280x720) **Steps:** - Scroll down 500px - Verify navbar remains visible at top of viewport - Check `[data-testid='navbar']` has sticky positioning - Navigate to `./more-information.html` - Verify navbar link with `href='./more-information.html'` has `aria-current='page'` or `.active` class - Navigate to `./contact.html` - Verify navbar link with `href='./contact.html'` has active indicator **Assertions:** - Navbar remains in viewport during scroll - Only one navbar link has active state at a time - Active link matches current route pathname - `aria-current` attribute correctly applied for accessibility --- ### Scenario 1.2: Back-to-Top Button Visibility and Functionality **Goal:** Ensure back-to-top button appears after scrolling threshold and returns user to top. **Preconditions:** - Navigate to home page - Viewport height allows scrolling **Steps:** - Verify `[data-testid='back-to-top']` has `aria-hidden='true'` initially - Scroll down 400px (exceeds threshold) - Wait for button to become visible - Click back-to-top button - Observe smooth scroll to top **Assertions:** - Button hidden when `aria-hidden='true'` - Button visible after scroll threshold exceeded - Clicking button scrolls to `scrollY === 0` - Scroll behavior is smooth (unless `prefers-reduced-motion` is set) - Button becomes hidden again after returning to top --- ### Scenario 1.3: Skip-to-Content Accessibility Link **Goal:** Validate skip link allows keyboard users to bypass navigation. **Preconditions:** - Navigate to any page - Use keyboard navigation only **Steps:** - Press `Tab` key once from page load - Verify `[data-testid='skip-to-content']` receives focus - Verify skip link becomes visible (not `.visually-hidden` or off-screen) - Press `Enter` to activate skip link - Verify focus moves to `[data-testid='main-content']` or `main` element **Assertions:** - Skip link is first focusable element - Skip link visible on focus with clear focus outline - Activating skip link moves focus to main content - Main content has `tabindex='-1'` to receive programmatic focus - Page scrolls to main content area --- ### Scenario 1.4: Smooth Scrolling with Reduced Motion Preference **Goal:** Confirm smooth scrolling respects user's motion preferences. **Preconditions:** - Navigate to home page - Emulate `prefers-reduced-motion: reduce` media query **Steps:** - Scroll down 500px - Click back-to-top button - Observe scroll behavior (should be instant, not animated) - Remove reduced motion emulation - Scroll down 500px again - Click back-to-top button - Observe smooth scroll animation **Assertions:** - With reduced motion: scroll is instant - Without reduced motion: scroll is animated - No console errors or accessibility violations - Scroll completes successfully in both modes --- ## Suite 2: Theme Toggle & Persistence ### Scenario 2.1: Theme Toggle Functionality **Goal:** Verify theme toggle switches between light and dark modes. **Preconditions:** - Navigate to home page - Clear localStorage - Default theme is light **Steps:** - Locate `[data-testid='theme-toggle']` button - Verify `aria-pressed='false'` or `data-theme='light'` on `html` or `body` - Click theme toggle button - Verify `data-theme='dark'` attribute applied to root element - Verify `aria-pressed='true'` on toggle button - Click theme toggle again - Verify theme returns to light mode **Assertions:** - Theme attribute updates on root element - `aria-pressed` reflects current theme state - Visual changes observable (background, text colors) - No layout shift or flash of unstyled content --- ### Scenario 2.2: Theme Persistence Across Page Refresh **Goal:** Ensure theme preference persists in localStorage and applies on reload. **Preconditions:** - Navigate to home page - Clear localStorage **Steps:** - Click theme toggle to switch to dark mode - Verify `localStorage.getItem('theme')` returns `'dark'` - Reload page - Verify `data-theme='dark'` applied immediately on load - Verify no flash of light theme before dark theme applies - Navigate to `./contact.html` - Verify dark theme persists across navigation **Assertions:** - Theme stored in localStorage with key `'theme'` - Theme applied before first paint (no FOUC) - Theme consistent across all pages - Theme toggle button reflects persisted state --- ### Scenario 2.3: Theme Toggle Analytics Event **Goal:** Confirm theme toggle logs analytics event. **Preconditions:** - Navigate to home page - Clear `window.analyticsLog` array **Steps:** - Click theme toggle to dark mode - Verify `window.analyticsLog` contains event with `type: 'theme_toggle'` - Verify event payload includes `{ theme: 'dark' }` - Verify event has `timestamp` property - Click theme toggle to light mode - Verify second event logged with `{ theme: 'light' }` **Assertions:** - Each toggle creates new analytics event - Event structure matches `{ type, timestamp, payloa